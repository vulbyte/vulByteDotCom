<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script type='module' src='/client_management.js'></script>
	<title> vulbyte | algorithms_tester </title>
</head>

<body>
	<h1>algorithm_tester</h1>
	<p>
		this is just a quick little thing i made to test and benchmark algorithms.
		what you will need to do to use it is:
	<ol>
		<li>click 'generate' to make a list</li>
		<li>optionally check list to see if the list is to your liking</li>
		<li>if you with to benchmark a sorting algorithm, select the algorithm and click 'sort', to which you'll see the
			result at the bottom of the <em>section</em></li>
		<li>same as above, but with the search algorithm</li>
	</ol>

	<details>
		<summary><em>WARNING</em></summary>
		please note this runs locally, so if you choose a number like 1,000,000,000 you will likely lock the tab until
		completed.
		<br>
		so do yourself a favor and choose a number that is reasonable for your system
	</details>

	<details>
		<summary>METHODOLOGY</summary>
		<ul>
			<li></li>
		</ul>
	</details>
	</p>

	<div>
		<h2>generate list</h2>
		<label style='display:inline;'>how many items would you like in the list:</label>
		<input id='list_length' type='' placeholder='100000' min='1' max='1000000'></input>
		<button id='generate_button'>click to generate list</button>
		<span id='gen_duration'></span>

		<details>
			<summary>click here to view list</summary><br>
			<span id='list_preview' style='
					border:var(--border); 
					display:block; 
					padding:var(--padding); 
					max-height: 30em; 
					overflow-y:scroll; 
					width:90%;'>
				no list generated yet!
			</span>
			<div id='preview_opts' style='
				display:flex; 
				flex-direction:row; 
				justify-content:space-around; 
				width:100%;'>
				<div>
					<label id='page_display'>page #/0:</label><input id='page_num' type='number' placeholder='1' min='1'></input>
				</div>
				<div>
					<label>items / page:</label><input id='page_amnt' type='number' placeholder='1000'></input>
				</div>
			</div>
		</details>
	</div>

	<div>
		<h2>sort list (optional, depending)</h2>
		<label>Choose a searching Algorithm</label>
		<select>
			<option>linear search in for loop</option>
			<option>linear search in forEach loop</option>
		</select>
	</div>

	<div>
		<h2>find within list</h2>
		<label>Choose a searching Algorithm</label>
		<select>
			<option>linear search in for loop </option>
			<option>linear search in forEach loop</option>
		</select>
	</div>
</body>
<script type='module'>
	//############################################################
	// event listeners
	//############################################################
	document.getElementById('list_length').addEventListener('change', () => {
		console.log('formating input');

		let input = document.getElementById('list_length');
		let amount = input.value;

		if (isNaN(input.value) || input.value == '') {
			input.value = input.placeholder;
		}

		if (amount == undefined || amount == null) {
			amount = document.getElmentById('list_length').placeholder
		}

		if (amount < 0) {
			input.value = 0;
		}
		else if (amount > 10 ** 6) {
			input.value = 10 ** 6;
		}

	});

	document.getElementById('generate_button').addEventListener('click', () => {
		let page, end;

		page = new Date();
		GenerateList();
		end = new Date();

		document.getElementById('gen_duration').innerText = (end.getTime() - page.getTime()) + 'ms';
	})

	document.getElementById('page_num').addEventListener('change', () => {
		UpdateList();
	})

	//############################################################
	// vars
	//############################################################
	let list = [];

	let sorting_algorithms = {
		"random_sort (WARNING: REALLY REALLY SLOW)": "random_sort",
		"bubble_sort": "bubble_sort",
		"quick_sort": "quick_sort",
	};

	let searching_algorithms = {
		'binary search': 'binary_search',
		'linear (for(let i = 0; i < list.length; ++i))': 'linear',
		'linear (for(let i = 0; i < list.length; i++))': 'linear',
	};

	//############################################################
	// function
	//############################################################
	function GenerateList() {
		list = [];

		let amount = document.getElementById('list_length').value;

		if (amount == undefined || amount == null) {
			amount = document.getElmentById('list_length').placeholder
		}

		if (amount < 0) {
			amount = 0;
		}
		else if (amount > 10 ** 6) {
			amount = 10 ** 6;
		}

		for (let i = 0; i < amount; ++i) {
			console.log('adding number');
			list.push(Math.random());
		}

		console.log(list.length);

		UpdateList();
	}

	function UpdateList() {
		console.log('updating list');
		if (list.length == 0) {
			document.getElementById('list_preview').innerHTML = 'list is empty!';
			return;
		}

		document.getElementById('list_preview').innerHTML = '';



		//let pageAmnt = document.getElementById('page_amnt').value;
		//if (pageAmnt == '' || pageAmnt == undefined) {
		//	pageAmnt = document.getElementById('page_amnt').placeholder;
		//}
		//let page = (document.getElementById('page_num').value - 1);
		//let start = page * pageAmnt;
		//let end = Number(Number(page) * Number(pageAmnt) + Number(pageAmnt));

		//document.getElementById('page_num').max = Math.floor(list.length / pageAmnt);
		//document.getElementById('page_display').max = `page #/${Math.floor(list.length / pageAmnt)}`;

		//let ol = document.createElement('ol');
		//ol.id = 'list';
		//ol.page = page;
		//ol.start = start;

		//console.log(
		//	'page: ' + page + '\n',
		//	'end: ' + end + '\n',
		//	'pageAmnt: ' + pageAmnt + '\n',
		//);

		//for (let i = start; i < end; ++i) {
		//	console.log('loop');
		//	let li = document.createElement('li');
		//	li.innerText = list[i];
		//	ol.appendChild(li);
		//};




		document.getElementById('list_preview').appendChild(ol);
	}



	function SearchInList() {

	}

	function FindInList() {

	}

</script>

</html>
